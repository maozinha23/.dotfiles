-- Conky, a system monitor https://github.com/brndnmtthws/conky
--
-- This configuration file is Lua code. You can write code in here, and it will
-- execute when Conky loads. You can use it to generate your own advanced
-- configurations.
--
-- Try this (remove the `--`):
--
--   print("Loading Conky config")
--
-- For more on Lua, see:
-- https://www.lua.org/pil/contents.html

conky.config = {
    -- Aligned position on screen, may be none or one of:
    -- top_left (or tl)   	  top_middle (or tm)	      top_right (or tr)
    -- middle_left (or ml)	  middle_middle (or mm)	    middle_right (or mr)
    -- bottom_left (or bl)	  bottom_middle (or bm)	    bottom_right (or br)
    -- In case of panel and dock windows, it might make more sense to use one of
    -- the following aliases:
    -- Alias	    Value
    -- top	      top_middle
    -- left	      middle_left
    -- right	    middle_right
    -- bottom	    bottom_middle
    -- center	    middle_middle
    -- See also gap_x and gap_y settings.
    alignment = 'top_right',

    -- Append the file given as argument.
    -- append_file

    -- Boolean value, if true, Conky will be forked to background when started.
    background = false,

    -- Inner border margin in pixels (the margin between the border and text).
    border_inner_margin = 5,

    -- Outer border margin in pixels (the margin between the border and the edge
    -- of the window).
    -- border_outer_margin

    -- Border width in pixels.
    border_width = 5,

    -- Predefine a color for use inside conky.text segments. Substitute N by a
    -- digit between 0 and 9, inclusively. When specifying the color value in
    -- hex, omit the leading hash (#).
    -- colorN

    -- A character to fill the console bars. Default: #
    -- console_bar_fill

    -- A character to unfill the console bars. Default: .
    -- console_bar_unfill

    -- A comma-separated list of strings to use as the bars of a graph output to
    -- console/shell. The first list item is used for the minimum bar height and
    -- the last item is used for the maximum, e.g. " ,_,=,#".
    -- console_graph_ticks

    -- The number of samples to average for CPU monitoring.
    -- cpu_avg_samples

    -- Specify a default height for bars. Default: 6
    -- default_bar_height

    -- Specify a default width for bars. If not specified, the default value is
    -- 0, which causes the bar to expand to fit the width of your Conky window.
    -- If you set out_to_console = true, the default value will be 10 for the
    -- text version of the bar. Default: 0
    -- default_bar_width

    -- Default color and border color.
    default_color = 'white',

    -- Specify a default height for gauges. Default: 25
    -- default_gauge_height

    -- Specify a default width for gauges. Default: 40
    -- default_gauge_width

    -- Specify a default height for graphs. Default: 25
    -- default_graph_height

    -- Specify a default width for graphs. If not specified, the default value
    -- is 0, which causes the graph to expand to fit the width of your Conky
    -- window. If you set out_to_console = true, the text version of the graph
    -- will actually have no width and you will need to set a sensible default
    -- or set the height and width of each graph individually. Default: 0
    -- default_graph_width

    -- Default outline color.
    default_outline_color = 'white',

    -- Default shading color and border's shading color.
    default_shade_color = 'white',

    -- One or more batteries to check in order to use update_interval_on_battery
    -- (comma separated). Default: BAT0
    -- detect_battery

    -- Enable to disable the inotify-based auto config reload feature.
    -- disable_auto_reload

    -- The number of samples to average for disk I/O monitoring.
    -- diskio_avg_samples

    -- Specify an X display to connect to.
    -- display

    -- Use the Xdbe extension? (eliminates flicker) It is highly recommended to
    -- use own window with this one so double buffer won't be so big.
    double_buffer = true,

    -- Boolean, blend when rendering drawn image? Some images blend incorrectly
    -- breaking alpha with ARBG visuals. This provides a possible work around by
    -- disabling blending. Default: yes
    -- draw_blended

    -- Draw borders around text.
    draw_borders = true,

    -- Draw borders around graphs.
    draw_graph_borders = true,

    -- Draw outlines.
    draw_outline = false,

    -- Draw shades.
    draw_shades = false,

    -- Put an extra newline at the end when writing to stdout, useful for
    -- writing to awesome's wiboxes.
    extra_newline = false,

    -- Font name in X, xfontsel can be used to get a nice font.
    font = 'Cousine Nerd Font Mono:size=13',

    -- Predefine a font to be used in conky.text segments. Substitute N by a
    -- number between 0 and 9 inclusive. Use the same format as a font variable.
    -- fontN

    -- Boolean value, if true, Conky will redraw everything when you switch the
    -- workspace. This may cause delays/flickering on some WMs.
    -- forced_redraw

    -- If enabled, values which are in bytes will be printed in human readable
    -- format (i.e., KiB, MiB, etc). If disabled, the number of bytes is printed
    -- instead.
    -- format_human_readable

    -- Gap, in pixels, between right or left border of screen, same as passing
    -- -x at command line, e.g. gap_x 10. For other position related stuff, see
    -- 'alignment'.
    gap_x = 11,

    -- Gap, in pixels, between top or bottom border of screen, same as passing
    -- -y at command line, e.g. gap_y 10. For other position related stuff, see
    -- 'alignment'.
    gap_y = 48,

    -- Specify API token for GitHub notifications.
    -- Create an API token at https://github.com/settings/tokens/new?scopes=
    --                                          notifications&description=conky.
    -- github_token

    -- Changes the color space used for interpolation. Arguments are hcl, hsv,
    -- and rgb (default). Default: rgb
    -- graph_gradient_mode = (rgb|hcl|hsv)

    -- Hostname to connect to for hddtemp objects. Default: 127.0.0.1
    -- hddtemp_host

    -- Port to use for hddtemp connections. Default: 7634
    -- hddtemp_port

    -- Port to listen to for HTTP connections. Default value is 10080, but is
    -- blocked by Firefox and Chrome, so you really want to change it.
    -- Default: 10080
    -- http_port

    -- When this is set the page generated with out_to_http will automatically
    -- refresh each interval. Default: no
    -- http_refresh

    -- How strict should if_up be when testing an interface for being up? The
    -- value is one of up, link or address, to check for the interface being
    -- solely up, being up and having link or being up, having link and an
    -- assigned IP address.
    -- if_up_strictness

    -- Default global IMAP server. Default port is 143, default folder is
    -- 'INBOX', default interval is 5 minutes, and default number of retries
    -- before giving up is 5. If the password is supplied as '*', you will be
    -- prompted to enter the password when Conky starts.
    -- imap = host user pass -i interval (in seconds) -f 'folder' -p port
    --                                                  -e 'command' -r retries

    -- Interval (in seconds) to flush Imlib2 cache.
    -- imlib_cache_flush_interval

    -- Imlib2 image cache size, in bytes. Increase this value if you use $image
    -- lots. Set to 0 to disable the image cache. Default: 4194304
    -- imlib_cache_size

    -- Boolean value, if true, text is rendered in lower case.
    -- lowercase

    -- This function, if defined, will be called by Conky through each iteration
    -- after drawing to the window. Requires X support. Takes any number of
    -- optional arguments. Use this hook for drawing things on top of what Conky
    -- draws. Conky puts 'conky_' in front of function_name to prevent
    -- accidental calls to the wrong function unless you place 'conky_' in front
    -- of it yourself.
    -- lua_draw_hook_post = function_name function arguments

    -- This function, if defined, will be called by Conky through each iteration
    -- before drawing to the window. Requires X support. Takes any number of
    -- optional arguments. Use this hook for drawing things on top of what Conky
    -- draws. Conky puts 'conky_' in front of function_name to prevent
    -- accidental calls to the wrong function unless you place 'conky_' in front
    -- of it yourself.
    -- lua_draw_hook_pre = function_name function arguments

    -- Loads the Lua scripts separated by spaces.
    lua_load = "~/.config/conky/string_format.lua",

    -- This function, if defined, will be called by Conky upon receiving mouse
    -- events from X or Wayland. A table containing event information will be
    -- passed to this function as the first argument. Use this hook for
    -- detecting mouse input and acting on it. Conky requires that the function
    -- declaration has a 'conky_' prefix to prevent accidental calls to the
    -- wrong function.
    -- lua_mouse_hook = function_name

    -- This function, if defined, will be called by Conky at shutdown or when
    -- the configuration is reloaded. Use this hook to clean up after yourself,
    -- such as freeing memory which has been allocated by external libraries via
    -- Lua. Conky puts 'conky_' in front of function_name to prevent accidental
    -- calls to the wrong function unless you place 'conky_' in front of it
    -- yourself.
    -- lua_shutdown_hook = function_name function arguments

    -- This function, if defined, will be called by Conky at startup or when the
    -- configuration is reloaded. Use this hook to initialize values, or for
    -- any run-once applications. Conky puts 'conky_' in front of function_name
    -- to prevent accidental calls to the wrong function unless you place
    -- 'conky_' in front of it yourself.
    -- lua_startup_hook = function_name function arguments

    -- Mail spool for mail checking.
    -- mail_spool

    -- Allow each port monitor to track at most this many connections.
    -- Default: 256
    -- max_port_monitor_connections

    -- When a line in the output contains 'width' chars and the end isn't
    -- reached, the next char will start on a new line. If you want to make sure
    -- that lines don't get broken, set 'width' to 0.
    -- max_text_width = integer_number

    -- Maximum size of user text buffer in bytes, i.e. text inside conky.text
    -- section in config file. Default: 16384
    -- max_user_text = integer_number

    -- Maximum width of window.
    -- maximum_width = integer_number

    -- Minimum height of the window.
    minimum_height = 671,

    -- Minimum width of window.
    minimum_width = 648,

    -- Host of MPD server.
    -- mpd_host

    -- MPD server password.
    -- mpd_password

    -- Port of MPD server.
    -- mpd_port

    -- Music player thread update interval. Default: update interval
    -- music_player_interval

    -- mysql_db
    -- MySQL database to use. Default: mysql

    -- Host of MySQL server. Default: localhost
    -- mysql_host

    -- Password of the MySQL user. Place it between "-chars. When this is not
    -- set there is no password used.
    -- mysql_password

    -- Port of MySQL server. Default: 0
    -- mysql_port

    -- MySQL user name to use when connecting to the server. Defaults to your
    -- username.
    -- mysql_user

    -- The number of samples to average for net data.
    -- net_avg_samples

    -- Subtract (file system) buffers from used memory.
    -- no_buffers

    -- The display that the nvidia variable will used. Default: $DISPLAY
    -- nvidia_display

    -- Print text to stdout.
    out_to_console = false,

    -- Let conky act as a small http-server serving its text.
    -- out_to_http

    -- Print text in the console, but use ncurses so that conky can print the
    -- text of a new update over the old text. (In the future this will provide
    -- more useful things).
    out_to_ncurses = false,

    -- Print text to stderr.
    out_to_stderr = false,

    -- Open a Wayland window to display output. Default: no
    -- out_to_wayland

    -- When set to no, there will be no output in X (useful when you also use
    -- things like out_to_console). If you set it to no, make sure that it's
    -- placed before all other X-related setting (take the first line of your
    -- configfile to be sure). Default: yes
    out_to_x = true,

    -- Force UTF8. Requires XFT.
    -- override_utf8_locale

    -- Overwrite the file given as argument.
    -- overwrite_file

    -- Boolean, draw conky in own window instead of drawing on root window.
    own_window = true,

    -- When ARGB visuals are enabled, this use this to modify the alpha value
    -- used. Valid range is 0-255, where 0 is 0% opacity, and 255 is 100%
    -- opacity. Default: 255
    -- own_window_argb_value = integer_number

    -- Boolean, use ARGB visual? ARGB can be used for real transparency, note
    -- that a composite manager is required on X11. This option will not work as
    -- desired (in most cases) in conjunction with 'own_window_type override'.
    -- own_window_argb_visual

    -- Manually set the WM_CLASS name. Default: Conky
    -- own_window_class

    -- If own_window_transparent no, set a specified background colour. Takes
    -- either a hex value (e.g. '#ffffff'), a shorthand hex value (e.g. '#fff'),
    -- or a valid RGB name (see /usr/lib/X11/rgb.txt). Default: black
    -- own_window_colour = color

    -- If own_window is set, on X11 you may specify comma separated window
    -- manager hints to affect the way Conky displays.
    -- Following hints are some of the standard WM specification ones:
    -- above        indicates that conky should be on top of most windows.
    -- below        indicates that conky should be below most windows.
    -- skip_pager   indicates that conky should not be included on a Pager.
    --              Implied if own_window_type is 'dock' or 'panel'.
    -- skip_taskbar indicates that conky should not be included on a taskbar.
    --              Implied if own_window_type is 'dock' or 'panel'.
    -- sticky       indicates that the Window Manager SHOULD keep conky's
    --              position fixed on the screen, even when the virtual desktop
    --              scrolls.
    -- undecorated  indicates that conky shouldn't have any window decorations
    --              (e.g. title bar). Implied if own_window_type is 'dock' or
    --              'panel'.
    -- Notes:
    -- Use own_window_type='desktop' setting as another way to implement many
    -- of these hints implicitly.
    -- If you use own_window_type='override', window manager hints have no
    -- meaning and are ignored.
    -- own_window_hints = hint(,hint)*

    -- Allows overriding conky window name. Default: conky (<hostname>)
    -- own_window_title

    -- Make conky window transparent. If own_window_argb_visual is enabled,
    -- sets background opacity to 0%. Default:
    -- own_window_transparent

    -- If own_window is set, under X11 you can specify type of window conky
    -- displayed as:
    -- normal       mode makes conky show as normal window. This mode can be
    --              configured with use of own_window_hints setting.
    -- desktop      windows are special windows that have no window decorations,
    --              are always visible on the desktop, do not appear in pager or
    --              taskbar, and are sticky across all workspaces. Many DEs
    --              include desktop windows for background, icons and desktop
    --              menu, in those cases it might be better to use normal or one
    --              of the below options, as those will cover conky when they're
    --              clicked on.
    -- dock         windows reserve space on the desktop, i.e. WMs will try
    --              their best to not place windows on top of them. They're the
    --              same as desktop in other respects, but render on top of
    --              desktop windows.
    -- panel        windows are similar to dock windows, but they also reserve
    --              space along a desktop edge (like taskbars), preventing
    --              maximized windows from overlapping them. The edge is chosen
    --              based on the alignment setting.
    -- utility      windows are persistent utility windows (e.g. a palette or
    --              toolbox). They appear on top of other windows (in the same
    --              group), but otherwise behave much like normal windows.
    -- override     windows are drawn directly on root window (desktop
    --              background) and are not under the control of the window
    --              manager. These will not work with DEs which draw desktop
    --              icons via custom panels/windows as those will cover conky.
    --              own_window_hints are ignored for override windows.
    -- To make conky mount on root window, set own_window to false.
    -- Default: normal
    -- own_window_type = (normal|desktop|dock|panel|utility|override)
    own_window_type = "override",

    -- Pad percentages to this many decimals (0 = no padding).
    -- pad_percents

    -- Default global POP3 server. Arguments are: `host user pass [-i interval
    -- (in seconds)] [-p port] [-e 'command'] [-r retries]". Default port is
    -- 110, default interval is 5 minutes, and default number of retries before
    -- giving up is 5. If the password is supplied as '*', you will be prompted
    -- to enter the password when Conky starts.
    -- pop3 = host user pass -i interval (in seconds) -p port -e 'command'
    --                                                                -r retries

    -- Shortens units to a single character (kiB->k, GiB->G, etc.). Default: no
    -- short_units

    -- Shows the time range covered by a graph.
    -- show_graph_range

    -- Shows the maximum value in scaled graphs.
    -- show_graph_scale

    -- Border stippling (dashing) in pixels.
    -- stippled_borders

    -- Enable storing graph data explicitly by ID. This avoids resets while
    -- using conditional colors. This option should be disabled while using
    -- graphs indirectly e.g. via execpi or lua_parse. Otherwise the graph stays
    -- emtpy. The default value is true. Default:
    -- store_graph_data_explicitly

    -- Desired output unit of all objects displaying a temperature. Parameters
    -- are either fahrenheit or celsius. Default: celsius
    -- temperature_unit

    -- Define a template for later use inside conky.text segments. Substitute N
    -- by a digit between 0 and 9, inclusively. The value of the variable is
    -- being inserted into the stuff inside conky.text at the corresponding
    -- position, but before some substitutions are applied:
    -- \\n -> newline
    -- \\ -> backslash
    -- \\ -> space
    -- \\N -> template argument N (starting from 1)
    -- templateN

    -- Size of the standard text buffer (default is 256 bytes). This buffer is
    -- hsed for intermediary text, such as individual lines, output from $exec
    -- vars, and various other variables. Increasing the size of this buffer can
    -- drastically reduce Conky's performance, but will allow for more text
    -- display per variable. The size of this buffer cannot be smaller than the
    -- default value of 256 bytes.
    -- text_buffer_size = seconds

    -- If true, variables that output times output a number that represents
    -- seconds. This doesn't affect $time, $tztime and $utime.
    -- times_in_seconds

    -- If true, cpu in top will show usage of one processor's power. If false,
    -- cpu in top will show the usage of all processors' power combined.
    -- top_cpu_separate

    -- If true, top name shows the full command line of each process, including
    -- arguments (whenever possible). Otherwise, only the basename is displayed.
    -- Default value is false. Default:
    -- top_name_verbose

    -- Width for $top name value (defaults to 15 characters).
    top_name_width = 20,

    -- Total number of times for Conky to update before quitting. Zero makes
    -- Conky run forever.
    -- total_run_times

    -- String to place between values and units. Default:
    -- unit_spacer

    -- Update interval.
    update_interval = 1.0,

    -- Update interval when running on battery power.
    -- update_interval_on_battery = seconds

    -- Boolean value, if true, text is rendered in upper case.
    uppercase = false,

    -- Adds spaces around certain objects to stop them from moving other things
    -- around. Arguments are left, right, and none (default). The old true/false
    -- values are deprecated and default to right/none respectively. Note that
    -- this only helps if you are using a mono font, such as Bitstream Vera Sans
    -- Mono. Default: none
    use_spacer = 'none',

    -- Use Xft (anti-aliased font and stuff).
    use_xft = true,

    -- Alpha of Xft font. Must be a value at or between 1 and 0.
    -- xftalpha

    -- Specify a Xinerama head.
    -- xinerama_head
}

conky.text = [[
${image ~/.config/conky/title-bg.png -p 0,3 -s 650x23}${voffset 5}${alignc}${color} OS
${voffset 5}${color}Type: ${color grey}Linux${goto 230}${color}Kernel: ${color grey}${kernel}
${color}Distribution: ${color grey}Arch Linux
${color}Packages: ${color grey}${execpi 86400 "pacman --query | wc --lines"}${goto 230}${color}Update: ${color grey}${execpi 86400 "tac /var/log/pacman.log | awk '/upgraded/ { print substr($1,2,10); exit }' | date --file=- +%x"}
${color}Boot loader: ${color gray}GRUB
${color}Shell: ${color gray}Bash
${color}Terminal emulator: ${color gray}Alacritty
${color}Network: ${color gray}NetworkManager
${color}Sound: ${color gray}Pipewire
${color}Window system: ${color gray}X.Org
${color}Window manager: ${color gray}i3
${color}Editor: ${color gray}Vim${goto 230}${color}Pager: ${color gray}Less
${goto 230}${color}Uptime: ${color gray}${uptime}
${image ~/.config/conky/title-bg.png -p 0,286 -s 650x23}${voffset 5}${alignc}${color}󰏘 THEMES
${voffset 5}${color}GTK: ${color gray}Adwaita-dark
${color}Icon: ${color gray}Papirus-Dark
${color}Cursor: ${color gray}Vanilla-DMZ
${color}Font: ${color gray}Cousine Nerd Font
${image ~/.config/conky/title-bg.png -p 0,401 -s 650x23}${voffset 5}${alignc}${color} PROCESS
${image ~/.config/conky/table-bg.png -p 4,429 -s 641x18}${voffset 5}${color}${goto 10}|${goto 25}N${goto 40}|${goto 130}NAME${goto 260}|${goto 292}PID${goto 340}|${goto 360}CPU%${goto 410}|${goto 430}MEM%${goto 480}|${goto 522}MEM${goto 580}|${goto 595}DISK%${goto 650}|
${goto 10}|01|${goto 50}${top name 1}${goto 260}|${top pid 1}|${top cpu 1}|${top mem 1}|${lua format %9s ${top mem_res 1}}|${top io_perc 1}|
${goto 10}|02|${goto 50}${top name 2}${goto 260}|${top pid 2}|${top cpu 2}|${top mem 2}|${lua format %9s ${top mem_res 2}}|${top io_perc 2}|
${goto 10}|03|${goto 50}${top name 3}${goto 260}|${top pid 3}|${top cpu 3}|${top mem 3}|${lua format %9s ${top mem_res 3}}|${top io_perc 3}|
${goto 10}|04|${goto 50}${top name 4}${goto 260}|${top pid 4}|${top cpu 4}|${top mem 4}|${lua format %9s ${top mem_res 4}}|${top io_perc 4}|
${goto 10}|05|${goto 50}${top name 5}${goto 260}|${top pid 5}|${top cpu 5}|${top mem 5}|${lua format %9s ${top mem_res 5}}|${top io_perc 5}|
${goto 10}|06|${goto 50}${top name 6}${goto 260}|${top pid 6}|${top cpu 6}|${top mem 6}|${lua format %9s ${top mem_res 6}}|${top io_perc 6}|
${goto 10}|07|${goto 50}${top name 7}${goto 260}|${top pid 7}|${top cpu 7}|${top mem 7}|${lua format %9s ${top mem_res 7}}|${top io_perc 7}|
${goto 10}|08|${goto 50}${top name 8}${goto 260}|${top pid 8}|${top cpu 8}|${top mem 8}|${lua format %9s ${top mem_res 8}}|${top io_perc 8}|
${goto 10}|09|${goto 50}${top name 9}${goto 260}|${top pid 9}|${top cpu 9}|${top mem 9}|${lua format %9s ${top mem_res 9}}|${top io_perc 9}|
${goto 10}|10|${goto 50}${top name 10}${goto 260}|${top pid 10}|${top cpu 10}|${top mem 10}|${lua format %9s ${top mem_res 10}}|${top io_perc 10}|
]]
